package collect.dfs;

import api.ApiClient;
import org.json.JSONObject;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.util.List;
import java.util.Map;

import static org.junit.jupiter.api.Assertions.*;
import static org.mockito.Mockito.*;

class FanduelTest {

    private ApiClient mockApi = mock(ApiClient.class);
    private Fanduel fanduel = new Fanduel(mockApi);


    @BeforeEach
    void setUp() {
        String fakeFanduelData = "<?xml version=\"1.0\" encoding=\"UTF-8\" ?><data>\t<fixturelist>\t\t<sport>NFL</sport>\t\t<game>\t\t\t<id>40392</id>\t\t\t<label>PIT @ CLE</label>\t\t\t<format>Salary Cap</format>\t\t\t<salarycap>60000</salarycap>\t\t\t<start>2019-11-14 17:20:00</start>\t\t</game>\t\t<player>\t\t\t<id>41535</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Baker Mayfield</name>\t\t\t<salary>15500</salary>\t\t\t<tier></tier>\t\t\t<statsid>748070</statsid>\t\t</player>\t\t<player>\t\t\t<id>40687</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>James Conner</name>\t\t\t<salary>14500</salary>\t\t\t<tier></tier>\t\t\t<statsid></statsid>\t\t</player>\t\t<player>\t\t\t<id>53729</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Mason Rudolph</name>\t\t\t<salary>14500</salary>\t\t\t<tier></tier>\t\t\t<statsid>823220</statsid>\t\t</player>\t\t<player>\t\t\t<id>53562</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Nick Chubb</name>\t\t\t<salary>14000</salary>\t\t\t<tier></tier>\t\t\t<statsid>822857</statsid>\t\t</player>\t\t<player>\t\t\t<id>31394</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Jarvis Landry</name>\t\t\t<salary>12000</salary>\t\t\t<tier></tier>\t\t\t<statsid>589991</statsid>\t\t</player>\t\t<player>\t\t\t<id>31360</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Odell Beckham Jr.</name>\t\t\t<salary>11500</salary>\t\t\t<tier></tier>\t\t\t<statsid>589984</statsid>\t\t</player>\t\t<player>\t\t\t<id>55987</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>JuJu Smith</name>\t\t\t<salary>10500</salary>\t\t\t<tier></tier>\t\t\t<statsid>835909</statsid>\t\t</player>\t\t<player>\t\t\t<id>55323</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Jaylen Samuels</name>\t\t\t<salary>10000</salary>\t\t\t<tier></tier>\t\t\t<statsid>832232</statsid>\t\t</player>\t\t<player>\t\t\t<id>32058</id>\t\t\t<position>K</position>\t\t\t<team>PIT</team>\t\t\t<name>Chris Boswell</name>\t\t\t<salary>9500</salary>\t\t\t<tier></tier>\t\t\t<statsid>504436</statsid>\t\t</player>\t\t<player>\t\t\t<id>55748</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>James Washington</name>\t\t\t<salary>9500</salary>\t\t\t<tier></tier>\t\t\t<statsid>835437</statsid>\t\t</player>\t\t<player>\t\t\t<id>60914</id>\t\t\t<position>K</position>\t\t\t<team>CLE</team>\t\t\t<name>Austin Seibert</name>\t\t\t<salary>9000</salary>\t\t\t<tier></tier>\t\t\t<statsid>865932</statsid>\t\t</player>\t\t<player>\t\t\t<id>45229</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Kareem Hunt</name>\t\t\t<salary>9000</salary>\t\t\t<tier></tier>\t\t\t<statsid>746613</statsid>\t\t</player>\t\t<player>\t\t\t<id>66008</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Diontae Johnson</name>\t\t\t<salary>8500</salary>\t\t\t<tier></tier>\t\t\t<statsid>891115</statsid>\t\t</player>\t\t<player>\t\t\t<id>40977</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Ricky Seals-Jones</name>\t\t\t<salary>8000</salary>\t\t\t<tier></tier>\t\t\t<statsid>744568</statsid>\t\t</player>\t\t<player>\t\t\t<id>32045</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Vance McDonald</name>\t\t\t<salary>7500</salary>\t\t\t<tier></tier>\t\t\t<statsid>494969</statsid>\t\t</player>\t\t<player>\t\t\t<id>26384</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Trey Edmunds</name>\t\t\t<salary>7000</salary>\t\t\t<tier></tier>\t\t\t<statsid>691645</statsid>\t\t</player>\t\t<player>\t\t\t<id>19342</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Demetrius Harris</name>\t\t\t<salary>6500</salary>\t\t\t<tier></tier>\t\t\t<statsid>602269</statsid>\t\t</player>\t\t<player>\t\t\t<id>45791</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Rashard Higgins</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>741322</statsid>\t\t</player>\t\t<player>\t\t\t<id>52808</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Dontrell Hilliard</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>821729</statsid>\t\t</player>\t\t<player>\t\t\t<id>63360</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Antonio Callaway</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>879022</statsid>\t\t</player>\t\t<player>\t\t\t<id>60861</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Damion Ratley</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>865803</statsid>\t\t</player>\t\t<player>\t\t\t<id>57543</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>D'Ernest Johnson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>839043</statsid>\t\t</player>\t\t<player>\t\t\t<id>64221</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Zach Gentry</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>883079</statsid>\t\t</player>\t\t<player>\t\t\t<id>70889</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Benny Snell</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>920062</statsid>\t\t</player>\t\t<player>\t\t\t<id>95893</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Devlin Hodges</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>837040</statsid>\t\t</player>\t\t<player>\t\t\t<id>104008</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Stephen Carlson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>881697</statsid>\t\t</player>\t\t<player>\t\t\t<id>93413</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Terry Wright</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>1066824</statsid>\t\t</player>\t\t<player>\t\t\t<id>85306</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>KhaDarel Hodge</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>757521</statsid>\t\t</player>\t\t<player>\t\t\t<id>83226</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Kevin Rader</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>840531</statsid>\t\t</player>\t\t<player>\t\t\t<id>83202</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Christian Scotland-Williamson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>1115441</statsid>\t\t</player>\t\t<player>\t\t\t<id>29411</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Pharaoh Brown</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>689689</statsid>\t\t</player>\t\t<player>\t\t\t<id>33403</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Tevin Jones</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>614302</statsid>\t\t</player>\t\t<player>\t\t\t<id>41922</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Johnny Holton</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>749099</statsid>\t\t</player>\t\t<player>\t\t\t<id>33463</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Paxton Lynch</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>693356</statsid>\t\t</player>\t\t<player>\t\t\t<id>40298</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Derrick Willies</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>740743</statsid>\t\t</player>\t\t<player>\t\t\t<id>40164</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Shelton Gibson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>739691</statsid>\t\t</player>\t\t<player>\t\t\t<id>44103</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Elijah McGuire</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>736984</statsid>\t\t</player>\t\t<player>\t\t\t<id>44893</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Roosevelt Nix</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>546742</statsid>\t\t</player>\t\t<player>\t\t\t<id>38634</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Ryan Switzer</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>728168</statsid>\t\t</player>\t\t<player>\t\t\t<id>28570</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Nick Vannett</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>606488</statsid>\t\t</player>\t\t<player>\t\t\t<id>32158</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Garrett Gilbert</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>507477</statsid>\t\t</player>\t\t<player>\t\t\t<id>47780</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Taywan Taylor</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>750698</statsid>\t\t</player>\t\t<player>\t\t\t<id>7744</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Drew Stanton</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>215910</statsid>\t\t</player>\t\t<player>\t\t\t<id>55964</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Tony James</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>835777</statsid>\t\t</player>\t</fixturelist>\t<fixturelist>\t\t<sport>NFL</sport>\t\t<game>\t\t\t<id>40393</id>\t\t\t<label>2ND HALF ONLY (PIT @ CLE)</label>\t\t\t<format>Salary Cap</format>\t\t\t<salarycap>60000</salarycap>\t\t\t<start>2019-11-14 18:04:00</start>\t\t</game>\t\t<player>\t\t\t<id>41535</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Baker Mayfield</name>\t\t\t<salary>15500</salary>\t\t\t<tier></tier>\t\t\t<statsid>748070</statsid>\t\t</player>\t\t<player>\t\t\t<id>40687</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>James Conner</name>\t\t\t<salary>14500</salary>\t\t\t<tier></tier>\t\t\t<statsid>742390</statsid>\t\t</player>\t\t<player>\t\t\t<id>53729</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Mason Rudolph</name>\t\t\t<salary>14500</salary>\t\t\t<tier></tier>\t\t\t<statsid>823220</statsid>\t\t</player>\t\t<player>\t\t\t<id>53562</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Nick Chubb</name>\t\t\t<salary>14000</salary>\t\t\t<tier></tier>\t\t\t<statsid>822857</statsid>\t\t</player>\t\t<player>\t\t\t<id>31394</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Jarvis Landry</name>\t\t\t<salary>12000</salary>\t\t\t<tier></tier>\t\t\t<statsid>589991</statsid>\t\t</player>\t\t<player>\t\t\t<id>31360</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Odell Beckham Jr.</name>\t\t\t<salary>11500</salary>\t\t\t<tier></tier>\t\t\t<statsid>589984</statsid>\t\t</player>\t\t<player>\t\t\t<id>55987</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>JuJu Smith</name>\t\t\t<salary>10500</salary>\t\t\t<tier></tier>\t\t\t<statsid>835909</statsid>\t\t</player>\t\t<player>\t\t\t<id>55323</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Jaylen Samuels</name>\t\t\t<salary>10000</salary>\t\t\t<tier></tier>\t\t\t<statsid>832232</statsid>\t\t</player>\t\t<player>\t\t\t<id>32058</id>\t\t\t<position>K</position>\t\t\t<team>PIT</team>\t\t\t<name>Chris Boswell</name>\t\t\t<salary>9500</salary>\t\t\t<tier></tier>\t\t\t<statsid>504436</statsid>\t\t</player>\t\t<player>\t\t\t<id>55748</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>James Washington</name>\t\t\t<salary>9500</salary>\t\t\t<tier></tier>\t\t\t<statsid>835437</statsid>\t\t</player>\t\t<player>\t\t\t<id>60914</id>\t\t\t<position>K</position>\t\t\t<team>CLE</team>\t\t\t<name>Austin Seibert</name>\t\t\t<salary>9000</salary>\t\t\t<tier></tier>\t\t\t<statsid>865932</statsid>\t\t</player>\t\t<player>\t\t\t<id>45229</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Kareem Hunt</name>\t\t\t<salary>9000</salary>\t\t\t<tier></tier>\t\t\t<statsid>746613</statsid>\t\t</player>\t\t<player>\t\t\t<id>66008</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Diontae Johnson</name>\t\t\t<salary>8500</salary>\t\t\t<tier></tier>\t\t\t<statsid>891115</statsid>\t\t</player>\t\t<player>\t\t\t<id>40977</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Ricky Seals-Jones</name>\t\t\t<salary>8000</salary>\t\t\t<tier></tier>\t\t\t<statsid>744568</statsid>\t\t</player>\t\t<player>\t\t\t<id>32045</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Vance McDonald</name>\t\t\t<salary>7500</salary>\t\t\t<tier></tier>\t\t\t<statsid>494969</statsid>\t\t</player>\t\t<player>\t\t\t<id>26384</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Trey Edmunds</name>\t\t\t<salary>7000</salary>\t\t\t<tier></tier>\t\t\t<statsid>691645</statsid>\t\t</player>\t\t<player>\t\t\t<id>19342</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Demetrius Harris</name>\t\t\t<salary>6500</salary>\t\t\t<tier></tier>\t\t\t<statsid>602269</statsid>\t\t</player>\t\t<player>\t\t\t<id>45791</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Rashard Higgins</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>741322</statsid>\t\t</player>\t\t<player>\t\t\t<id>52808</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Dontrell Hilliard</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>821729</statsid>\t\t</player>\t\t<player>\t\t\t<id>63360</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Antonio Callaway</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>879022</statsid>\t\t</player>\t\t<player>\t\t\t<id>60861</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Damion Ratley</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>865803</statsid>\t\t</player>\t\t<player>\t\t\t<id>57543</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>D'Ernest Johnson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>839043</statsid>\t\t</player>\t\t<player>\t\t\t<id>64221</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Zach Gentry</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>883079</statsid>\t\t</player>\t\t<player>\t\t\t<id>70889</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Benny Snell</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>920062</statsid>\t\t</player>\t\t<player>\t\t\t<id>95893</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Devlin Hodges</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>837040</statsid>\t\t</player>\t\t<player>\t\t\t<id>104008</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Stephen Carlson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>881697</statsid>\t\t</player>\t\t<player>\t\t\t<id>93413</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Terry Wright</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>1066824</statsid>\t\t</player>\t\t<player>\t\t\t<id>85306</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>KhaDarel Hodge</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>757521</statsid>\t\t</player>\t\t<player>\t\t\t<id>83226</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Kevin Rader</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>840531</statsid>\t\t</player>\t\t<player>\t\t\t<id>83202</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Christian Scotland-Williamson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>1115441</statsid>\t\t</player>\t\t<player>\t\t\t<id>29411</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Pharaoh Brown</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>689689</statsid>\t\t</player>\t\t<player>\t\t\t<id>33403</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Tevin Jones</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>614302</statsid>\t\t</player>\t\t<player>\t\t\t<id>41922</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Johnny Holton</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>749099</statsid>\t\t</player>\t\t<player>\t\t\t<id>33463</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Paxton Lynch</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>693356</statsid>\t\t</player>\t\t<player>\t\t\t<id>40298</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Derrick Willies</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>740743</statsid>\t\t</player>\t\t<player>\t\t\t<id>40164</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Shelton Gibson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>739691</statsid>\t\t</player>\t\t<player>\t\t\t<id>44103</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Elijah McGuire</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>736984</statsid>\t\t</player>\t\t<player>\t\t\t<id>44893</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Roosevelt Nix</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>546742</statsid>\t\t</player>\t\t<player>\t\t\t<id>38634</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Ryan Switzer</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>728168</statsid>\t\t</player>\t\t<player>\t\t\t<id>28570</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Nick Vannett</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>606488</statsid>\t\t</player>\t\t<player>\t\t\t<id>32158</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Garrett Gilbert</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>507477</statsid>\t\t</player>\t\t<player>\t\t\t<id>47780</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Taywan Taylor</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>750698</statsid>\t\t</player>\t\t<player>\t\t\t<id>7744</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Drew Stanton</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>215910</statsid>\t\t</player>\t\t<player>\t\t\t<id>55964</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Tony James</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>835777</statsid>\t\t</player>\t</fixturelist>\t<fixturelist>\t\t<sport>NFL</sport>\t\t<game>\t\t\t<id>40394</id>\t\t\t<label>4TH QTR ONLY (PIT @ CLE)</label>\t\t\t<format>Salary Cap</format>\t\t\t<salarycap>60000</salarycap>\t\t\t<start>2019-11-14 18:21:00</start>\t\t</game>\t\t<player>\t\t\t<id>41535</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Baker Mayfield</name>\t\t\t<salary>15500</salary>\t\t\t<tier></tier>\t\t\t<statsid>748070</statsid>\t\t</player>\t\t<player>\t\t\t<id>40687</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>James Conner</name>\t\t\t<salary>14500</salary>\t\t\t<tier></tier>\t\t\t<statsid>742390</statsid>\t\t</player>\t\t<player>\t\t\t<id>53729</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Mason Rudolph</name>\t\t\t<salary>14500</salary>\t\t\t<tier></tier>\t\t\t<statsid>823220</statsid>\t\t</player>\t\t<player>\t\t\t<id>53562</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Nick Chubb</name>\t\t\t<salary>14000</salary>\t\t\t<tier></tier>\t\t\t<statsid>822857</statsid>\t\t</player>\t\t<player>\t\t\t<id>31394</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Jarvis Landry</name>\t\t\t<salary>12000</salary>\t\t\t<tier></tier>\t\t\t<statsid>589991</statsid>\t\t</player>\t\t<player>\t\t\t<id>31360</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Odell Beckham Jr.</name>\t\t\t<salary>11500</salary>\t\t\t<tier></tier>\t\t\t<statsid>589984</statsid>\t\t</player>\t\t<player>\t\t\t<id>55987</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>JuJu Smith</name>\t\t\t<salary>10500</salary>\t\t\t<tier></tier>\t\t\t<statsid>835909</statsid>\t\t</player>\t\t<player>\t\t\t<id>55323</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Jaylen Samuels</name>\t\t\t<salary>10000</salary>\t\t\t<tier></tier>\t\t\t<statsid>832232</statsid>\t\t</player>\t\t<player>\t\t\t<id>32058</id>\t\t\t<position>K</position>\t\t\t<team>PIT</team>\t\t\t<name>Chris Boswell</name>\t\t\t<salary>9500</salary>\t\t\t<tier></tier>\t\t\t<statsid>504436</statsid>\t\t</player>\t\t<player>\t\t\t<id>55748</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>James Washington</name>\t\t\t<salary>9500</salary>\t\t\t<tier></tier>\t\t\t<statsid>835437</statsid>\t\t</player>\t\t<player>\t\t\t<id>60914</id>\t\t\t<position>K</position>\t\t\t<team>CLE</team>\t\t\t<name>Austin Seibert</name>\t\t\t<salary>9000</salary>\t\t\t<tier></tier>\t\t\t<statsid>865932</statsid>\t\t</player>\t\t<player>\t\t\t<id>45229</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Kareem Hunt</name>\t\t\t<salary>9000</salary>\t\t\t<tier></tier>\t\t\t<statsid>746613</statsid>\t\t</player>\t\t<player>\t\t\t<id>66008</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Diontae Johnson</name>\t\t\t<salary>8500</salary>\t\t\t<tier></tier>\t\t\t<statsid>891115</statsid>\t\t</player>\t\t<player>\t\t\t<id>40977</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Ricky Seals-Jones</name>\t\t\t<salary>8000</salary>\t\t\t<tier></tier>\t\t\t<statsid>744568</statsid>\t\t</player>\t\t<player>\t\t\t<id>32045</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Vance McDonald</name>\t\t\t<salary>7500</salary>\t\t\t<tier></tier>\t\t\t<statsid>494969</statsid>\t\t</player>\t\t<player>\t\t\t<id>26384</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Trey Edmunds</name>\t\t\t<salary>7000</salary>\t\t\t<tier></tier>\t\t\t<statsid>691645</statsid>\t\t</player>\t\t<player>\t\t\t<id>19342</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Demetrius Harris</name>\t\t\t<salary>6500</salary>\t\t\t<tier></tier>\t\t\t<statsid>602269</statsid>\t\t</player>\t\t<player>\t\t\t<id>45791</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Rashard Higgins</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>741322</statsid>\t\t</player>\t\t<player>\t\t\t<id>52808</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Dontrell Hilliard</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>821729</statsid>\t\t</player>\t\t<player>\t\t\t<id>63360</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Antonio Callaway</name>\t\t\t<salary>6000</salary>\t\t\t<tier></tier>\t\t\t<statsid>879022</statsid>\t\t</player>\t\t<player>\t\t\t<id>60861</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Damion Ratley</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>865803</statsid>\t\t</player>\t\t<player>\t\t\t<id>57543</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>D'Ernest Johnson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>839043</statsid>\t\t</player>\t\t<player>\t\t\t<id>64221</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Zach Gentry</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>883079</statsid>\t\t</player>\t\t<player>\t\t\t<id>70889</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Benny Snell</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>920062</statsid>\t\t</player>\t\t<player>\t\t\t<id>95893</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Devlin Hodges</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>837040</statsid>\t\t</player>\t\t<player>\t\t\t<id>104008</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Stephen Carlson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>881697</statsid>\t\t</player>\t\t<player>\t\t\t<id>93413</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Terry Wright</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>1066824</statsid>\t\t</player>\t\t<player>\t\t\t<id>85306</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>KhaDarel Hodge</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>757521</statsid>\t\t</player>\t\t<player>\t\t\t<id>83226</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Kevin Rader</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>840531</statsid>\t\t</player>\t\t<player>\t\t\t<id>83202</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Christian Scotland-Williamson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>1115441</statsid>\t\t</player>\t\t<player>\t\t\t<id>29411</id>\t\t\t<position>TE</position>\t\t\t<team>CLE</team>\t\t\t<name>Pharaoh Brown</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>689689</statsid>\t\t</player>\t\t<player>\t\t\t<id>33403</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Tevin Jones</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>614302</statsid>\t\t</player>\t\t<player>\t\t\t<id>41922</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Johnny Holton</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>749099</statsid>\t\t</player>\t\t<player>\t\t\t<id>33463</id>\t\t\t<position>QB</position>\t\t\t<team>PIT</team>\t\t\t<name>Paxton Lynch</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>693356</statsid>\t\t</player>\t\t<player>\t\t\t<id>40298</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Derrick Willies</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>740743</statsid>\t\t</player>\t\t<player>\t\t\t<id>40164</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Shelton Gibson</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>739691</statsid>\t\t</player>\t\t<player>\t\t\t<id>44103</id>\t\t\t<position>RB</position>\t\t\t<team>CLE</team>\t\t\t<name>Elijah McGuire</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>736984</statsid>\t\t</player>\t\t<player>\t\t\t<id>44893</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Roosevelt Nix</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>546742</statsid>\t\t</player>\t\t<player>\t\t\t<id>38634</id>\t\t\t<position>WR</position>\t\t\t<team>PIT</team>\t\t\t<name>Ryan Switzer</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>728168</statsid>\t\t</player>\t\t<player>\t\t\t<id>28570</id>\t\t\t<position>TE</position>\t\t\t<team>PIT</team>\t\t\t<name>Nick Vannett</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>606488</statsid>\t\t</player>\t\t<player>\t\t\t<id>32158</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Garrett Gilbert</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>507477</statsid>\t\t</player>\t\t<player>\t\t\t<id>47780</id>\t\t\t<position>WR</position>\t\t\t<team>CLE</team>\t\t\t<name>Taywan Taylor</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>750698</statsid>\t\t</player>\t\t<player>\t\t\t<id>7744</id>\t\t\t<position>QB</position>\t\t\t<team>CLE</team>\t\t\t<name>Drew Stanton</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>215910</statsid>\t\t</player>\t\t<player>\t\t\t<id>55964</id>\t\t\t<position>RB</position>\t\t\t<team>PIT</team>\t\t\t<name>Tony James</name>\t\t\t<salary>5000</salary>\t\t\t<tier></tier>\t\t\t<statsid>835777</statsid>\t\t</player>\t</fixturelist></data>";
        when(mockApi.getFanduelData(anyString())).thenReturn(fakeFanduelData);
    }

    @Test
    void shouldGetValidContests() {
        List<JSONObject> result = fanduel.getValidContests("testDateString");
        verify(mockApi).getFanduelData(anyString());
        assertEquals(1, result.size());
    }

    @SuppressWarnings("unchecked")
    @Test
    void shouldGetAllContestData() {
        List<Map<String, Object>> result = fanduel.getAllContestData("testDateString");
        verify(mockApi).getFanduelData(anyString());
        assertEquals("NFL", result.get(0).get("sport"));
        assertEquals("PIT @ CLE", result.get(0).get("contest"));
        List<Map<String, Object>> players = (List<Map<String, Object>>) result.get(0).get("players");
        Map<String, Object> playerInfo1 = players.get(0);
        assertEquals(748070, playerInfo1.get("playerId"));
        assertEquals("Baker Mayfield", playerInfo1.get("name"));
        assertEquals("CLE", playerInfo1.get("team"));
        assertEquals("QB", playerInfo1.get("position"));
        assertEquals(15500, playerInfo1.get("salary"));
        Map<String, Object> playerInfo2 = players.get(1);
        assertNull(playerInfo2.get("playerId"));
        assertEquals("James Conner", playerInfo2.get("name"));
        assertEquals("PIT", playerInfo2.get("team"));
        assertEquals("RB", playerInfo2.get("position"));
        assertEquals(14500, playerInfo2.get("salary"));
        assertEquals(44, players.size());
    }

}