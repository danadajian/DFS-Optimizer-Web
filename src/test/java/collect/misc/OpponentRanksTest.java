package collect.misc;

import api.ApiClient;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.util.Map;

import static org.junit.jupiter.api.Assertions.*;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.when;

class OpponentRanksTest {
    private ApiClient mockApi = mock(ApiClient.class);
    private OpponentRanks opponentRanks = new OpponentRanks(mockApi);

    @BeforeEach
    void setUp() {
        String fakeFantasyProsData = "<tbody><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/arizona-cardinals.php\">Arizona Cardinals</a></td><td class=\"center\"><span class=\"easy\">1</span></td><td class=\"center\"><span class=\"easy\">25.2</span></td><td class=\"center\"><span>10</span></td><td class=\"center\"><span>20.0</span></td><td class=\"center\"><span>11</span></td><td class=\"center\"><span>24.4</span></td><td class=\"center\"><span class=\"easy\">1</span></td><td class=\"center\"><span class=\"easy\">14.5</span></td><td class=\"center\"><span class=\"easy\">7</span></td><td class=\"center\"><span class=\"easy\">8.9</span></td><td class=\"center\"><span>19</span></td><td class=\"center\"><span>7.2</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/atlanta-falcons.php\">Atlanta Falcons</a></td><td class=\"center\"><span class=\"easy\">2</span></td><td class=\"center\"><span class=\"easy\">24.3</span></td><td class=\"center\"><span>15</span></td><td class=\"center\"><span>19.2</span></td><td class=\"center\"><span class=\"easy\">5</span></td><td class=\"center\"><span class=\"easy\">27.4</span></td><td class=\"center\"><span>14</span></td><td class=\"center\"><span>7.8</span></td><td class=\"center\"><span class=\"easy\">3</span></td><td class=\"center\"><span class=\"easy\">10.3</span></td><td class=\"center\"><span class=\"easy\">7</span></td><td class=\"center\"><span class=\"easy\">10.1</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/baltimore-ravens.php\">Baltimore Ravens</a></td><td class=\"center\"><span class=\"hard\">29</span></td><td class=\"center\"><span class=\"hard\">13.7</span></td><td class=\"center\"><span>23</span></td><td class=\"center\"><span>16.4</span></td><td class=\"center\"><span>22</span></td><td class=\"center\"><span>20.9</span></td><td class=\"center\"><span class=\"hard\">28</span></td><td class=\"center\"><span class=\"hard\">5.3</span></td><td class=\"center\"><span>15</span></td><td class=\"center\"><span>7.9</span></td><td class=\"center\"><span class=\"hard\">32</span></td><td class=\"center\"><span class=\"hard\">2.4</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/buffalo-bills.php\">Buffalo Bills</a></td><td class=\"center\"><span class=\"hard\">28</span></td><td class=\"center\"><span class=\"hard\">14.3</span></td><td class=\"center\"><span>11</span></td><td class=\"center\"><span>20.0</span></td><td class=\"center\"><span class=\"hard\">27</span></td><td class=\"center\"><span class=\"hard\">19.1</span></td><td class=\"center\"><span class=\"hard\">31</span></td><td class=\"center\"><span class=\"hard\">4.7</span></td><td class=\"center\"><span class=\"hard\">31</span></td><td class=\"center\"><span class=\"hard\">4.1</span></td><td class=\"center\"><span>17</span></td><td class=\"center\"><span>7.3</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/carolina-panthers.php\">Carolina Panthers</a></td><td class=\"center\"><span>22</span></td><td class=\"center\"><span>16.5</span></td><td class=\"center\"><span class=\"easy\">3</span></td><td class=\"center\"><span class=\"easy\">24.1</span></td><td class=\"center\"><span>13</span></td><td class=\"center\"><span>23.9</span></td><td class=\"center\"><span>24</span></td><td class=\"center\"><span>6.4</span></td><td class=\"center\"><span class=\"easy\">9</span></td><td class=\"center\"><span class=\"easy\">8.4</span></td><td class=\"center\"><span>15</span></td><td class=\"center\"><span>7.4</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/chicago-bears.php\">Chicago Bears</a></td><td class=\"center\"><span>24</span></td><td class=\"center\"><span>15.6</span></td><td class=\"center\"><span>13</span></td><td class=\"center\"><span>19.7</span></td><td class=\"center\"><span class=\"hard\">28</span></td><td class=\"center\"><span class=\"hard\">19.1</span></td><td class=\"center\"><span class=\"easy\">6</span></td><td class=\"center\"><span class=\"easy\">8.4</span></td><td class=\"center\"><span class=\"hard\">27</span></td><td class=\"center\"><span class=\"hard\">6.5</span></td><td class=\"center\"><span>20</span></td><td class=\"center\"><span>7.1</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/cincinnati-bengals.php\">Cincinnati Bengals</a></td><td class=\"center\"><span class=\"easy\">6</span></td><td class=\"center\"><span class=\"easy\">22.1</span></td><td class=\"center\"><span class=\"easy\">6</span></td><td class=\"center\"><span class=\"easy\">22.6</span></td><td class=\"center\"><span>19</span></td><td class=\"center\"><span>21.9</span></td><td class=\"center\"><span>15</span></td><td class=\"center\"><span>7.5</span></td><td class=\"center\"><span class=\"easy\">6</span></td><td class=\"center\"><span class=\"easy\">9.2</span></td><td class=\"center\"><span class=\"easy\">4</span></td><td class=\"center\"><span class=\"easy\">11.8</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/cleveland-browns.php\">Cleveland Browns</a></td><td class=\"center\"><span>12</span></td><td class=\"center\"><span>19.5</span></td><td class=\"center\"><span>20</span></td><td class=\"center\"><span>17.6</span></td><td class=\"center\"><span>23</span></td><td class=\"center\"><span>20.5</span></td><td class=\"center\"><span class=\"easy\">8</span></td><td class=\"center\"><span class=\"easy\">8.2</span></td><td class=\"center\"><span>25</span></td><td class=\"center\"><span>6.7</span></td><td class=\"center\"><span class=\"easy\">8</span></td><td class=\"center\"><span class=\"easy\">8.3</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/dallas-cowboys.php\">Dallas Cowboys</a></td><td class=\"center\"><span>21</span></td><td class=\"center\"><span>16.6</span></td><td class=\"center\"><span>12</span></td><td class=\"center\"><span>19.8</span></td><td class=\"center\"><span>24</span></td><td class=\"center\"><span>20.2</span></td><td class=\"center\"><span class=\"easy\">7</span></td><td class=\"center\"><span class=\"easy\">8.2</span></td><td class=\"center\"><span>13</span></td><td class=\"center\"><span>8.1</span></td><td class=\"center\"><span class=\"hard\">31</span></td><td class=\"center\"><span class=\"hard\">3.8</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/denver-broncos.php\">Denver Broncos</a></td><td class=\"center\"><span class=\"hard\">30</span></td><td class=\"center\"><span class=\"hard\">13.4</span></td><td class=\"center\"><span>21</span></td><td class=\"center\"><span>17.1</span></td><td class=\"center\"><span class=\"hard\">26</span></td><td class=\"center\"><span class=\"hard\">19.5</span></td><td class=\"center\"><span>18</span></td><td class=\"center\"><span>7.0</span></td><td class=\"center\"><span class=\"easy\">4</span></td><td class=\"center\"><span class=\"easy\">9.5</span></td><td class=\"center\"><span class=\"easy\">9</span></td><td class=\"center\"><span class=\"easy\">8.1</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/detroit-lions.php\">Detroit Lions</a></td><td class=\"center\"><span class=\"easy\">3</span></td><td class=\"center\"><span class=\"easy\">23.0</span></td><td class=\"center\"><span class=\"easy\">1</span></td><td class=\"center\"><span class=\"easy\">25.9</span></td><td class=\"center\"><span class=\"easy\">2</span></td><td class=\"center\"><span class=\"easy\">27.7</span></td><td class=\"center\"><span>13</span></td><td class=\"center\"><span>7.8</span></td><td class=\"center\"><span class=\"easy\">8</span></td><td class=\"center\"><span class=\"easy\">8.5</span></td><td class=\"center\"><span>18</span></td><td class=\"center\"><span>7.2</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/green-bay-packers.php\">Green Bay Packers</a></td><td class=\"center\"><span>25</span></td><td class=\"center\"><span>15.4</span></td><td class=\"center\"><span class=\"easy\">4</span></td><td class=\"center\"><span class=\"easy\">23.0</span></td><td class=\"center\"><span>25</span></td><td class=\"center\"><span>20.2</span></td><td class=\"center\"><span class=\"easy\">3</span></td><td class=\"center\"><span class=\"easy\">10.0</span></td><td class=\"center\"><span>10</span></td><td class=\"center\"><span>8.3</span></td><td class=\"center\"><span class=\"hard\">27</span></td><td class=\"center\"><span class=\"hard\">4.5</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/houston-texans.php\">Houston Texans</a></td><td class=\"center\"><span class=\"easy\">9</span></td><td class=\"center\"><span class=\"easy\">20.8</span></td><td class=\"center\"><span>16</span></td><td class=\"center\"><span>19.0</span></td><td class=\"center\"><span>12</span></td><td class=\"center\"><span>24.0</span></td><td class=\"center\"><span>21</span></td><td class=\"center\"><span>6.8</span></td><td class=\"center\"><span>14</span></td><td class=\"center\"><span>8.0</span></td><td class=\"center\"><span>23</span></td><td class=\"center\"><span>6.4</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/indianapolis-colts.php\">Indianapolis Colts</a></td><td class=\"center\"><span>20</span></td><td class=\"center\"><span>16.6</span></td><td class=\"center\"><span class=\"hard\">29</span></td><td class=\"center\"><span class=\"hard\">13.8</span></td><td class=\"center\"><span>14</span></td><td class=\"center\"><span>23.0</span></td><td class=\"center\"><span>19</span></td><td class=\"center\"><span>7.0</span></td><td class=\"center\"><span>12</span></td><td class=\"center\"><span>8.2</span></td><td class=\"center\"><span>24</span></td><td class=\"center\"><span>6.3</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/jacksonville-jaguars.php\">Jacksonville Jaguars</a></td><td class=\"center\"><span>13</span></td><td class=\"center\"><span>19.1</span></td><td class=\"center\"><span class=\"easy\">7</span></td><td class=\"center\"><span class=\"easy\">22.0</span></td><td class=\"center\"><span>21</span></td><td class=\"center\"><span>21.1</span></td><td class=\"center\"><span>20</span></td><td class=\"center\"><span>6.9</span></td><td class=\"center\"><span class=\"hard\">26</span></td><td class=\"center\"><span class=\"hard\">6.6</span></td><td class=\"center\"><span>12</span></td><td class=\"center\"><span>7.6</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/kansas-city-chiefs.php\">Kansas City Chiefs</a></td><td class=\"center\"><span>11</span></td><td class=\"center\"><span>19.6</span></td><td class=\"center\"><span class=\"easy\">2</span></td><td class=\"center\"><span class=\"easy\">25.1</span></td><td class=\"center\"><span class=\"hard\">29</span></td><td class=\"center\"><span class=\"hard\">18.4</span></td><td class=\"center\"><span>12</span></td><td class=\"center\"><span>7.9</span></td><td class=\"center\"><span>24</span></td><td class=\"center\"><span>6.8</span></td><td class=\"center\"><span class=\"hard\">29</span></td><td class=\"center\"><span class=\"hard\">3.9</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/miami-dolphins.php\">Miami Dolphins</a></td><td class=\"center\"><span class=\"easy\">5</span></td><td class=\"center\"><span class=\"easy\">22.2</span></td><td class=\"center\"><span class=\"easy\">5</span></td><td class=\"center\"><span class=\"easy\">23.0</span></td><td class=\"center\"><span class=\"easy\">6</span></td><td class=\"center\"><span class=\"easy\">26.8</span></td><td class=\"center\"><span>16</span></td><td class=\"center\"><span>7.3</span></td><td class=\"center\"><span class=\"easy\">2</span></td><td class=\"center\"><span class=\"easy\">10.5</span></td><td class=\"center\"><span class=\"easy\">2</span></td><td class=\"center\"><span class=\"easy\">12.1</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/minnesota-vikings.php\">Minnesota Vikings</a></td><td class=\"center\"><span>19</span></td><td class=\"center\"><span>17.0</span></td><td class=\"center\"><span class=\"hard\">26</span></td><td class=\"center\"><span class=\"hard\">14.6</span></td><td class=\"center\"><span class=\"easy\">8</span></td><td class=\"center\"><span class=\"easy\">25.9</span></td><td class=\"center\"><span>25</span></td><td class=\"center\"><span>6.2</span></td><td class=\"center\"><span>19</span></td><td class=\"center\"><span>7.5</span></td><td class=\"center\"><span class=\"hard\">28</span></td><td class=\"center\"><span class=\"hard\">3.9</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/new-england-patriots.php\">New England Patriots</a></td><td class=\"center\"><span class=\"hard\">32</span></td><td class=\"center\"><span class=\"hard\">9.6</span></td><td class=\"center\"><span class=\"hard\">32</span></td><td class=\"center\"><span class=\"hard\">10.6</span></td><td class=\"center\"><span class=\"hard\">32</span></td><td class=\"center\"><span class=\"hard\">12.3</span></td><td class=\"center\"><span class=\"hard\">26</span></td><td class=\"center\"><span class=\"hard\">5.6</span></td><td class=\"center\"><span class=\"hard\">32</span></td><td class=\"center\"><span class=\"hard\">3.9</span></td><td class=\"center\"><span>22</span></td><td class=\"center\"><span>6.5</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/new-orleans-saints.php\">New Orleans Saints</a></td><td class=\"center\"><span class=\"easy\">8</span></td><td class=\"center\"><span class=\"easy\">20.9</span></td><td class=\"center\"><span class=\"hard\">28</span></td><td class=\"center\"><span class=\"hard\">13.9</span></td><td class=\"center\"><span class=\"easy\">4</span></td><td class=\"center\"><span class=\"easy\">27.5</span></td><td class=\"center\"><span>17</span></td><td class=\"center\"><span>7.0</span></td><td class=\"center\"><span>11</span></td><td class=\"center\"><span>8.2</span></td><td class=\"center\"><span class=\"hard\">30</span></td><td class=\"center\"><span class=\"hard\">3.8</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/new-york-giants.php\">New York Giants</a></td><td class=\"center\"><span>10</span></td><td class=\"center\"><span>20.6</span></td><td class=\"center\"><span>18</span></td><td class=\"center\"><span>18.7</span></td><td class=\"center\"><span class=\"easy\">3</span></td><td class=\"center\"><span class=\"easy\">27.7</span></td><td class=\"center\"><span class=\"hard\">29</span></td><td class=\"center\"><span class=\"hard\">5.3</span></td><td class=\"center\"><span class=\"easy\">5</span></td><td class=\"center\"><span class=\"easy\">9.3</span></td><td class=\"center\"><span class=\"easy\">1</span></td><td class=\"center\"><span class=\"easy\">12.4</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/new-york-jets.php\">New York Jets</a></td><td class=\"center\"><span>16</span></td><td class=\"center\"><span>17.9</span></td><td class=\"center\"><span>24</span></td><td class=\"center\"><span>16.3</span></td><td class=\"center\"><span>10</span></td><td class=\"center\"><span>25.2</span></td><td class=\"center\"><span class=\"hard\">30</span></td><td class=\"center\"><span class=\"hard\">5.2</span></td><td class=\"center\"><span>21</span></td><td class=\"center\"><span>7.3</span></td><td class=\"center\"><span class=\"easy\">3</span></td><td class=\"center\"><span class=\"easy\">12.0</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/oakland-raiders.php\">Oakland Raiders</a></td><td class=\"center\"><span class=\"easy\">7</span></td><td class=\"center\"><span class=\"easy\">22.1</span></td><td class=\"center\"><span>14</span></td><td class=\"center\"><span>19.3</span></td><td class=\"center\"><span class=\"easy\">9</span></td><td class=\"center\"><span class=\"easy\">25.9</span></td><td class=\"center\"><span class=\"easy\">4</span></td><td class=\"center\"><span class=\"easy\">9.6</span></td><td class=\"center\"><span>22</span></td><td class=\"center\"><span>7.1</span></td><td class=\"center\"><span class=\"hard\">26</span></td><td class=\"center\"><span class=\"hard\">5.2</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/philadelphia-eagles.php\">Philadelphia Eagles</a></td><td class=\"center\"><span>23</span></td><td class=\"center\"><span>16.5</span></td><td class=\"center\"><span>25</span></td><td class=\"center\"><span>16.0</span></td><td class=\"center\"><span class=\"easy\">7</span></td><td class=\"center\"><span class=\"easy\">26.4</span></td><td class=\"center\"><span class=\"hard\">27</span></td><td class=\"center\"><span class=\"hard\">5.5</span></td><td class=\"center\"><span>23</span></td><td class=\"center\"><span>7.0</span></td><td class=\"center\"><span>16</span></td><td class=\"center\"><span>7.3</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/pittsburgh-steelers.php\">Pittsburgh Steelers</a></td><td class=\"center\"><span class=\"hard\">26</span></td><td class=\"center\"><span class=\"hard\">15.2</span></td><td class=\"center\"><span class=\"hard\">27</span></td><td class=\"center\"><span class=\"hard\">14.2</span></td><td class=\"center\"><span>17</span></td><td class=\"center\"><span>22.1</span></td><td class=\"center\"><span>10</span></td><td class=\"center\"><span>8.0</span></td><td class=\"center\"><span class=\"hard\">28</span></td><td class=\"center\"><span class=\"hard\">6.1</span></td><td class=\"center\"><span>13</span></td><td class=\"center\"><span>7.5</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/los-angeles-chargers.php\">Los Angeles Chargers</a></td><td class=\"center\"><span class=\"hard\">27</span></td><td class=\"center\"><span class=\"hard\">14.4</span></td><td class=\"center\"><span class=\"easy\">8</span></td><td class=\"center\"><span class=\"easy\">21.6</span></td><td class=\"center\"><span class=\"hard\">31</span></td><td class=\"center\"><span class=\"hard\">16.7</span></td><td class=\"center\"><span>22</span></td><td class=\"center\"><span>6.7</span></td><td class=\"center\"><span class=\"hard\">29</span></td><td class=\"center\"><span class=\"hard\">6.0</span></td><td class=\"center\"><span>11</span></td><td class=\"center\"><span>7.6</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/seattle-seahawks.php\">Seattle Seahawks</a></td><td class=\"center\"><span>15</span></td><td class=\"center\"><span>18.1</span></td><td class=\"center\"><span>22</span></td><td class=\"center\"><span>16.7</span></td><td class=\"center\"><span>18</span></td><td class=\"center\"><span>22.0</span></td><td class=\"center\"><span class=\"easy\">5</span></td><td class=\"center\"><span class=\"easy\">9.4</span></td><td class=\"center\"><span>18</span></td><td class=\"center\"><span>7.6</span></td><td class=\"center\"><span>14</span></td><td class=\"center\"><span>7.5</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/san-francisco-49ers.php\">San Francisco 49ers</a></td><td class=\"center\"><span class=\"hard\">31</span></td><td class=\"center\"><span class=\"hard\">11.8</span></td><td class=\"center\"><span class=\"hard\">30</span></td><td class=\"center\"><span class=\"hard\">12.6</span></td><td class=\"center\"><span class=\"hard\">30</span></td><td class=\"center\"><span class=\"hard\">17.8</span></td><td class=\"center\"><span class=\"hard\">32</span></td><td class=\"center\"><span class=\"hard\">3.1</span></td><td class=\"center\"><span class=\"hard\">30</span></td><td class=\"center\"><span class=\"hard\">4.7</span></td><td class=\"center\"><span>25</span></td><td class=\"center\"><span>5.6</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/los-angeles-rams.php\">Los Angeles Rams</a></td><td class=\"center\"><span>18</span></td><td class=\"center\"><span>17.2</span></td><td class=\"center\"><span>17</span></td><td class=\"center\"><span>18.9</span></td><td class=\"center\"><span>20</span></td><td class=\"center\"><span>21.5</span></td><td class=\"center\"><span>23</span></td><td class=\"center\"><span>6.7</span></td><td class=\"center\"><span>16</span></td><td class=\"center\"><span>7.8</span></td><td class=\"center\"><span>10</span></td><td class=\"center\"><span>7.8</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/tampa-bay-buccaneers.php\">Tampa Bay Buccaneers</a></td><td class=\"center\"><span class=\"easy\">4</span></td><td class=\"center\"><span class=\"easy\">22.8</span></td><td class=\"center\"><span class=\"hard\">31</span></td><td class=\"center\"><span class=\"hard\">11.6</span></td><td class=\"center\"><span class=\"easy\">1</span></td><td class=\"center\"><span class=\"easy\">31.7</span></td><td class=\"center\"><span class=\"easy\">2</span></td><td class=\"center\"><span class=\"easy\">11.0</span></td><td class=\"center\"><span class=\"easy\">1</span></td><td class=\"center\"><span class=\"easy\">11.1</span></td><td class=\"center\"><span class=\"easy\">5</span></td><td class=\"center\"><span class=\"easy\">10.4</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/tennessee-titans.php\">Tennessee Titans</a></td><td class=\"center\"><span>17</span></td><td class=\"center\"><span>17.4</span></td><td class=\"center\"><span>19</span></td><td class=\"center\"><span>18.6</span></td><td class=\"center\"><span>15</span></td><td class=\"center\"><span>22.7</span></td><td class=\"center\"><span>11</span></td><td class=\"center\"><span>7.9</span></td><td class=\"center\"><span>20</span></td><td class=\"center\"><span>7.5</span></td><td class=\"center\"><span>21</span></td><td class=\"center\"><span>7.1</span></td><tr><tr><td style=\"white-space:nowrap;\"><a href=\"/nfl/teams/washington.php\">Washington</a></td><td class=\"center\"><span>14</span></td><td class=\"center\"><span>18.4</span></td><td class=\"center\"><span class=\"easy\">9</span></td><td class=\"center\"><span class=\"easy\">20.5</span></td><td class=\"center\"><span>16</span></td><td class=\"center\"><span>22.3</span></td><td class=\"center\"><span class=\"easy\">9</span></td><td class=\"center\"><span class=\"easy\">8.1</span></td><td class=\"center\"><span>17</span></td><td class=\"center\"><span>7.8</span></td><td class=\"center\"><span class=\"easy\">6</span></td><td class=\"center\"><span class=\"easy\">10.4</span></td><tr></tbody>";
        when(mockApi.getOpponentRanksData("nfl")).thenReturn(fakeFantasyProsData);
    }

    @Test
    void shouldGetNFLOpponentRanks() {
        Map<String, Map<String, Integer>> result = opponentRanks.getOpponentRanks("nfl");
        assertEquals(32, result.get("Arizona Cardinals").get("QB"));
        assertEquals(23, result.get("Arizona Cardinals").get("RB"));
        assertEquals(17, result.get("Miami Dolphins").get("TE"));
        assertEquals(30, result.get("New York Giants").get("WR"));
        assertEquals(15, result.get("Detroit Lions").get("D/ST"));
    }
}